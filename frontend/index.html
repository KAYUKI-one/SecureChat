<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- ç¡®ä¿å¼•ç”¨äº†æ­£ç¡®çš„ CSS æ–‡ä»¶ -->
    <link rel="stylesheet" href="./style.css">
    <title>SecureChat Pro v5</title>
</head>
<body>
    <div id="app">
        <!-- 1. ç™»å½•é®ç½©å±‚ (å¢žåŠ  Identity Password) -->
        <div id="login-screen" class="overlay">
            <div class="login-card">
                <h2 style="color:var(--accent); margin-bottom:20px;">SECURE VAULT</h2>
                <div class="input-group">
                    <!-- æœåŠ¡å™¨åœ°å€ -->
                    <input id="srv-addr" type="text" value="https://your-ip:8080" placeholder="Server Address">
                    <!-- ç”¨æˆ·æ˜¾ç¤ºå -->
                    <input id="user-id" type="text" placeholder="Identity (e.g. Rosemary)">
                    <!-- ä¸ªäººèº«ä»½å¯†ç  (Tripcode) -->
                    <input id="user-pass" type="password" placeholder="Identity Password (Tripcode)">
                    <!-- ç¾¤ç»„åŠ å¯†å¯†é’¥ -->
                    <input id="chat-key" type="password" placeholder="Group Secret Key">
                </div>
                <button onclick="ui.connect()" class="btn-login">ENTER CHANNEL</button>
                <p style="font-size: 10px; color: var(--text-dim); margin-top: 15px;">
                    Identity Password ensures no one can impersonate you.
                </p>
            </div>
        </div>

        <!-- 2. ä¸»ç•Œé¢å¸ƒå±€ -->
        <div class="main-layout">
            <!-- å·¦ä¾§è¾¹æ  -->
            <aside class="sidebar">
                <div class="profile-box">
                    <!-- å¤´åƒæ¡†ï¼šç‚¹å‡»å¯æ›´æ”¹å¤´åƒ -->
                    <div id="my-avatar" class="avatar-main" onclick="ui.changeAvatar()" title="Click to upload avatar">?</div>
                    <h3 id="display-id">---</h3>
                    <div id="net-status" class="status-indicator">Offline</div>
                </div>
                <div class="sidebar-actions">
                    <button class="action-btn" onclick="ui.selectFile()">ðŸ“Ž Send Document</button>
                    <div style="flex:1"></div>
                    <!-- é€€å‡ºå¹¶æ¸…ç©º ChatTemp -->
                    <button class="action-btn danger" onclick="ui.wipe()">Logout & Wipe</button>
                </div>
            </aside>

            <!-- å³ä¾§èŠå¤©åŒº -->
            <main class="chat-main">
                <header class="top-header">
                    <span>Encrypted Space</span>
                    <!-- ä¼ è¾“ç™¾åˆ†æ¯”æ–‡å­—æ˜¾ç¤º -->
                    <span id="prog-text" style="color:var(--accent); font-size:12px"></span>
                </header>

                <!-- é¡¶éƒ¨è¿›åº¦æ¡ (TGé£Žæ ¼ç»†çº¿) -->
                <div id="progress-container">
                    <div id="prog-bar"></div>
                </div>

                <!-- æ¶ˆæ¯æ»šåŠ¨å®¹å™¨ -->
                <div id="message-list" class="message-pane"></div>

                <!-- åº•éƒ¨è¾“å…¥æ  -->
                <footer class="input-bar">
                    <input id="msg-input" placeholder="Write a message..." autocomplete="off">
                    <button onclick="ui.sendText()">SEND</button>
                </footer>
            </main>
        </div>
    </div>

    <!-- æ ¸å¿ƒé€»è¾‘è„šæœ¬ -->
    <script src="./main.js"></script>
</body>
</html>